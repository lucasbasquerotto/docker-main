templates:

- dir_base: "main/log/efk"
  src: "docker-compose.yml"
  dest: "docker-compose.yml"
  root: true
  params:
    fluentd:
      networks: {{ params.compose.fluentd.networks | to_json }}
      environments: {{ params.compose.fluentd.environments | to_json }}
      ports: {{ params.compose.fluentd.ports | to_json }}
    elasticsearch:
      networks: {{ params.compose.elasticsearch.networks | to_json }}
      environments: {{ params.compose.elasticsearch.environments | to_json }}
      ports: {{ params.compose.elasticsearch.ports | to_json }}
    kibana:
      networks: {{ params.compose.kibana.networks | to_json }}
      environments: {{ params.compose.kibana.environments | to_json }}
      ports: {{ params.compose.kibana.ports | to_json }}

- dir_base: "main/log/efk"
  src: ".env"
  dest: ".env"
  root: true
  params: 
    ctx_name: "{{ params.env.ctx_name }}"
    pod_repo: "{{ params.env.pod_repo }}"
    pod_repo_version: "{{ params.env.pod_repo_version }}"
    git_commit: "{{ params.env.git_commit }}"
    pod_env_dir: "{{ params.env.pod_env_dir }}"
    data_dir: "{{ params.env.data_dir }}"
    fluentd_image: "{{ params.env.fluentd_image }}"
    fluentd_version: "{{ params.env.fluentd_version }}"
    elasticsearch_image: "{{ params.env.elasticsearch_image }}"
    elasticsearch_version: "{{ params.env.elasticsearch_version }}"
    kibana_image: "{{ params.env.kibana_image }}"
    kibana_version: "{{ params.env.kibana_version }}"
